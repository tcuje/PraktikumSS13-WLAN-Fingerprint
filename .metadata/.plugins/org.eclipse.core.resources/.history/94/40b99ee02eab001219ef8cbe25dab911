package com.example;

import java.util.List;

import android.content.BroadcastReceiver;
import android.content.Context;
import android.content.Intent;
import android.net.wifi.ScanResult;

public class WiFiScanReceiver extends BroadcastReceiver {
	private static final String TAG = "WiFiScanReceiver";
	WiFiDemo wifiDemo;

	public WiFiScanReceiver(WiFiDemo wifiDemo) {
		super();
		this.wifiDemo = wifiDemo;
	}

	@Override
	public void onReceive(Context c, Intent intent) {
		List<ScanResult> results = wifiDemo.wifi.getScanResults();
//		ScanResult bestSignal = null;
//		for (ScanResult result : results) {
//			if (bestSignal == null
//					|| WifiManager.compareSignalLevel(bestSignal.level,
//							result.level) < 0)
//				bestSignal = result;
//		}

		wifiDemo.textStatus.setText("Folgende Wifi's gefunden:\n");
		if (results != null && !results.isEmpty()) {
			for (ScanResult result : results) {
				wifiDemo.textStatus.append(result.BSSID + " " + result.level);
			}
		} else {
			wifiDemo.textStatus.append("keine");
		}

		// String message =
		// String.format("%s networks found. %s is the strongest.",
		// results.size(), bestSignal.SSID);
		// Toast.makeText(wifiDemo, message, Toast.LENGTH_LONG).show();

//		Log.d(TAG, "onReceive() message: " + message);
	}

}
